repos:
  - repo: local
    hooks:
      - id: ascii-check
        name: ASCII Compliance Check
        entry: python scripts/check_ascii_portable.py
        language: system
        pass_filenames: false
        stages: [commit, push]
        
      - id: python-imports
        name: Python Import Check
        entry: python -c "from src.halogenator import cli, enumerate_k1, sites, rules, schema; print('Core imports OK')"
        language: system
        pass_filenames: false
        files: '^src/halogenator/.*\.py$'
        stages: [commit]
        
      - id: schema-validation
        name: Schema Validation Check
        entry: python -c "from src.halogenator.schema import validate_products_schema, get_all_known_columns, validate_products_records, empty_qa_paths; validate_products_schema(get_all_known_columns()); rec = {'inchikey':'TEST-KEY','smiles':'CCF','product_smiles':'CCF','parent_inchikey':'PARENT-KEY','parent_smiles':'CC','parent_type':'manual','rule':'R1','rule_family':'R1','halogen':'F','k':1,'depth':1,'k_ops':1,'constraints_ok':True}; validate_products_records([rec]); qa = empty_qa_paths(); assert len(qa) > 0; print('Schema validation OK')"
        language: system
        pass_filenames: false
        files: '^src/halogenator/schema\.py$'
        stages: [commit]